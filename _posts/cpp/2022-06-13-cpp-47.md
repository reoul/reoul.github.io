---
title: "[C++] μ•½ν•(Weak) ν¬μΈν„°" 

categories:
  - Cpp
tags:
  - [Cpp, Programming]


toc: true                         # λ©μ°¨
toc_sticky: true                  # λ©μ°¨ μ‚¬μ΄λ“λ°” κ³ μ •

published: true                   #κΈ€ κ³µκ° μ—¬λ¶€(falseν•΄λ„ μ£Όμ†λ΅ μ ‘κ·Ό κ°€λ¥)

date:       2022-06-13T13:50:00+09:00
lastmod:    2022-06-13T13:56:00+09:00
---

<!-- description : 25μμ—μ„ 160μ μ‚¬μ΄ -->
μ΄ κΈ€μ€ C++μ μ•½ν•(Weak) ν¬μΈν„°μ„ κ³µλ¶€ν•κ³  μ •λ¦¬ν• κΈ€μ…λ‹λ‹¤.<br>
μ•½ν• ν¬μΈν„°λ” μ›μ‹ ν¬μΈν„°μ ν•΄μ μ— μν–¥μ„ λΌμΉμ§€ μ•λ” ν¬μΈν„°λ΅ κ°•ν• μ°Έμ΅° μΉ΄μ΄ν„°κ°€ 0μ΄ λ  λ• μ†λ©Έλλ‹¤.
{: .notice--warning}

## μ•½ν• ν¬μΈν„°(weak_ptr)
- μ•½ν• μ°Έμ΅°λ¥Ό μ‚¬μ©ν•λ‹¤
- **μ•½ν• μ°Έμ΅° μΉ΄μ΄νΈλ¥Ό λλ¦Ό**
- μ•½ν• ν¬μΈν„°λ΅ **μ›μ‹ ν¬μΈν„°μ ν•΄μ μ— μν–¥μ„ λΌμΉμ§€ μ•λ”λ‹¤**
- μ•½ν• μ°Έμ΅°λ΅ μ°Έμ΅°λλ” κ°μ²΄λ” **κ°•ν• μ°Έμ΅° μΉ΄μ΄ν„°κ°€ 0μ΄ λ  λ• μ†λ©Έλλ‹¤**

  ### μ½”λ“ μμ‹

  ```cpp
  #include <memory>
  #include "Person.h"

  int main()
  {
      std::shared_ptr<Person> owner = std::make_shared<Person>("Reoul");
      std::weak_ptr<Person> weakOwner = owner;

      std::shared_ptr<Person> lockedOwner = weakOwner.lock();

      return 0;
  }
  ```

  ### μ•½ν• μ°Έμ΅°
  - μ•½ν• μ°Έμ΅°λ” **μ›μ‹ ν¬μΈν„° ν•΄μ μ— μν–¥μ„ λΌμΉμ§€ μ•μ**
  - μ•½ν• μ°Έμ΅° μΉ΄μ΄νΈλ” μ•½ν• μ°Έμ΅°μ μλ¥Ό μ €μ¥ν•λ” λ° μ‚¬μ©λ¨
  - μ•½ν• μ°Έμ΅°λ΅ μ°Έμ΅°λλ” κ°μ²΄λ” **κ°•ν• μ°Έμ΅° μΉ΄μ΄ν„°κ°€ 0μ΄ λ  λ• μ†λ©Έλ¨**
  - μν™ μ°Έμ΅° λ¬Έμ μ ν•΄κ²°μ±…

  ### lock()
  
  ```cpp
  std::shared_ptr<T> lock() const noexcept;
  ```
  
  - μ›μ‹ ν¬μΈν„°κ°€ μ΅΄μ¬ν•λ©΄ κ³µμ  ν¬μΈν„°λ¥Ό λ§λ“ λ‹¤
  - μ•½ν• ν¬μΈν„°λ¥Ό μ‚¬μ©ν•λ ¤λ©΄ **λ¬΄μ΅°κ±΄ lock()μ„ ν•΄ κ³µμ  ν¬μΈν„°λ΅ λ§λ“¤μ–΄μ„ μ†λ©Έλλ” κ²ƒμ„ λ§‰μ•„μ•Όν•λ‹¤**
  
  ```cpp
  std::shared_ptr<Person> lockedOwner = weakOwner.lock();
  ```
  
  ### expired()
  
  ```cpp
  bool expired() const noexcept;
  ```
  
  - **κ³µμ  ν¬μΈν„°κ°€ ν•΄μ **λμ—μΌλ©΄ trueλ¥Ό λ°ν™ν•λ‹¤
  
  ```cpp
  bool bIsExpired = weakOwner.expired();
  ```

<br>

## μ°Έμ΅°
[ν¬νμ•„μΉ΄λ°λ―Έ C++ μ–Έλ§¤λ‹μ§€λ“ ν”„λ΅κ·Έλλ°](https://pocu-ko.teachable.com/p/comp3200)

***
<br>

    π’» μ—΄μ‹¬ν κ³µλ¶€ν•΄μ„ μ‘μ„± μ¤‘μ΄λ‹ μ¤λ¥λ‚ ν‹€λ¦° λ¶€λ¶„μ΄ μμ„ κ²½μ° 
      μ–Έμ λ“ μ§€ λ“κΈ€ νΉμ€ λ©”μΌλ΅ μ•λ ¤μ£Όμ‹λ©΄ κ°μ‚¬ν•κ² μµλ‹λ‹¤! πΈ


[λ§¨ μ„λ΅ μ΄λ™ν•κΈ°](#){: .btn .btn--primary }{: .align-right}