---
title: "[C++] μ λ‹ν¬(Unique) ν¬μΈν„°" 

categories:
  - Cpp
tags:
  - [Cpp, Programming]
# νƒκ·Έλ” λ¬΄μ΅°κ±΄ 2κ° μ΄μƒ(1κ°λ©΄ κΈ€μ΄ μ•λ³΄μ„)

toc: true                         # λ©μ°¨
toc_sticky: false                  # λ©μ°¨ μ‚¬μ΄λ“λ°” κ³ μ •

published: true                   #κΈ€ κ³µκ° μ—¬λ¶€(falseν•΄λ„ μ£Όμ†λ΅ μ ‘κ·Ό κ°€λ¥)

date: 2022-06-06T00:00:00+09:00
lastmod: 2022-06-06T10:27:00+09:00
---

<!-- description : 25μμ—μ„ 160μ μ‚¬μ΄ -->
μ΄ κΈ€μ€ C++ μ λ‹ν¬(Unique) ν¬μΈν„°λ¥Ό κ³µλ¶€ν•κ³  μ •λ¦¬ν• κΈ€μ…λ‹λ‹¤.<br>
μ λ‹ν¬ ν¬μΈν„°λ” μ†μ μκ°€ ν•λ‚λ°–μ— μ—†λ” ν¬μΈν„°μ΄λ‹¤.
{: .notice--warning}

## μ λ‹ν¬(Unique) ν¬μΈν„°
- ν¬μΈν„°λ¥Ό λ‹¨λ…μΌλ΅ μ†μ 
- μ†μ ν• ν¬μΈν„°λ¥Ό λ„κµ¬ν•κ³ λ„ κ³µμ ν•μ§€ μ•μ
- λ”°λΌμ„ λ³µμ‚¬λ‚ λ€μ… λ¶κ°€
- `unique_ptr`κ°€ λ²”μ„λ¥Ό λ²—μ–΄λ‚  λ•, ν¬μΈν„°κ°€ μ§€μ›μ§(delete)

  ### μ½”λ“ μμ 
  ```cpp
  #include <memory>

  int main()
  {
      std::unique_ptr<int[]> myArray1(new int[](40));                   // C++11
      std::unique_ptr<int[]> myArray2 = std::make_unique<int[]>(40);    // C++14 μ΄ν›„

  }
  ```

  ### reset()
  - ν¬μΈν„°λ¥Ό κµμ²΄ν•λ‹¤
  - `std::unique_ptr`κ°€ μ¬μ„¤μ •λ  λ•, μ†μ ν•κ³  μλ μ›μ‹ ν¬μΈν„°λ” μλ™μΌλ΅ μ†λ©Έλ¨

  ```cpp
  std::unique_ptr<Vector> vector = std::make_unique<Vector>(10.f, 30.f);
  vector.reset(new Vector(20.f, 40.f)); // κΈ°μ΅΄μ— κ°€μ§€κ³  μλ ν¬μΈν„°λ¥Ό ν•΄μ ν•κ³  μƒλ΅μ΄ ν¬μΈν„°λ¥Ό μ—°κ²°ν•΄μ¤€λ‹¤
  vector.reset();   // κ°€μ§€κ³  μλ ν¬μΈν„°λ¥Ό ν•΄μ ν•λ‹¤
  vector = nullptr; // κ°€μ§€κ³  μλ ν¬μΈν„°λ¥Ό ν•΄μ ν•λ‹¤
  ```

  ### get()
  - ν¬μΈν„°λ¥Ό λ°ν™ν•λ‹¤
  - λ‹¤λ§, ν¬μΈν„°μ— λ€ν• μ†μ κ¶μ„ λ°•νƒν•λ” κ²ƒμ€ μ•„λ‹λ‹¤

  ```cpp
  std::unique_ptr<Vector> vector = std::make_unique<Vector>(10.f, 30.f);
  Vector* ptr = vector.get();   // 10.f 30.f
  ```
  
  ### release()
  - ν¬μΈν„°μ— λ€ν• μ†μ κ¶μ„ λ°•νƒν•κ³  ν¬μΈν„°λ¥Ό λ°ν™ν•λ‹¤
  - `release()` νΈμ¶ ν›„ `get()`μ„ νΈμ¶ν•λ©΄ `nullptr`κ°€ λ°ν™λ¨

  ```cpp
  std::unique_ptr<Vector> vector = std::make_unique<Vector>(10.f, 30.f);
  Vector* ptr1 = vector.release();  // 10.f 30.f
  Vector* ptr2 = vector.get();      // nullptr
  ```

  ### μ†μ κ¶ μ΄μ „ν•κΈ°
  - `std::unique_ptr`λ” μ†μ ν• ν¬μΈν„°λ¥Ό μ•„λ¬΄ν•κ³ λ„ κ³µμ ν•μ§€ μ•μ
  - μ¦‰, **μ£Όμ† λ³µμ‚¬λ¥Ό ν•μ§€ μ•λ”λ‹¤**λ” λ»
  - λ€μ‹ , μ†μ κ¶μ„ λ‹¤λ¥Έ `std::unique_ptr`λ΅ μ®κΈΈ μ μμ
  - μμ™Έ : `const std::unique_ptr`

  ```cpp
  std::vector<std::unique_ptr<Player>> players;

  std::unique_ptr<Player> coco = std::make_unique<Player>("Coco");
  players.push_back(std::move(coco));

  std::unique_ptr<Player> lulu = std::make_unique<Player>("Lulu");
  players.push_back(std::move(lulu));
  ```

    #### std::move()
    - κ°μ²΄ Aμ λ¨λ“  λ©¤λ²„λ¥Ό ν¬κΈ°ν•κ³  κ·Έ μ†μ κ¶μ„ Bμ—κ² μ£Όλ” λ°©λ²•
    - λ©”λ¨λ¦¬ ν• λ‹Ήκ³Ό ν•΄μ κ°€ μΌμ–΄λ‚μ§€ μ•μ


## μ ν•©ν• κ²½μ°
- ν΄λμ¤μ—μ„ μƒμ„±μ/μ†λ©Έμ
  - `unique_ptr`μ„ μ‚¬μ© ν•  κ²½μ° μ†λ©Έμμ—μ„ deleteλ¥Ό ν•  ν•„μ”κ°€ μ—†μ–΄μ§„λ‹¤
- μ§€μ—­ λ³€μμ—μ„ λ™μ  ν• λ‹Ήν•  λ•
  - μ‹¤μλ‚ returnμΌλ΅ μΈν•΄ deleteλ¥Ό λ»ν•  λ• μ•μ•„μ„ λ©”λ¨λ¦¬ ν•΄μ (delete)λ¥Ό ν•΄μ¤€λ‹¤
- STL λ²΅ν„°μ— ν¬μΈν„° μ €μ¥ν•  λ•
  - `myVector.clear()` ν•  μ‹ μ•μ— μλ” λ©”λ¨λ¦¬λ“¤μ„ `unique_ptr`μ΄ ν•΄μ ν•΄μ¤€λ‹¤

***
<br>

    π’» μ—΄μ‹¬ν κ³µλ¶€ν•΄μ„ μ‘μ„± μ¤‘μ΄λ‹ μ¤λ¥λ‚ ν‹€λ¦° λ¶€λ¶„μ΄ μμ„ κ²½μ° 
      μ–Έμ λ“ μ§€ λ“κΈ€ νΉμ€ λ©”μΌλ΅ μ•λ ¤μ£Όμ‹λ©΄ κ°μ‚¬ν•κ² μµλ‹λ‹¤! πΈ


[λ§¨ μ„λ΅ μ΄λ™ν•κΈ°](#){: .btn .btn--primary }{: .align-right}